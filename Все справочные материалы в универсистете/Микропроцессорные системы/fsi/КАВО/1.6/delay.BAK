
PUBLIC Delay
EXTRN BIT (delayFlag)
DLY SEGMENT CODE 

RSEG DLY

Delay:

SETB delayFlag	
	
MOV R0, #1  ; 0,001 мс
Count0:
	MOV R1, #195 ; 0,001 мс 100 мс	
	Count1:
		MOV R2, #255 ; 0,001 мс 
		Count2: 
			DJNZ R2, Count2 ; 0,002 мс   
		DJNZ R1, Count1 ; 0,002 мс
	DJNZ R0, Count0 ; 0,002 мс
CLR delayFlag	
RET ; 0,002 мс                                       
END 













































































































































