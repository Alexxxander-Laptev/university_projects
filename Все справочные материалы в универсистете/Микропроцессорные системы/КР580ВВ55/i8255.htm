<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<HTML>
<HEAD>
  <TITLE>Программируемый периферийный адаптер КР580ВВ55</TITLE>
  <LINK REL=StyleSheet HREF="default0.css" TYPE="text/css">

<meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
</HEAD>

<BODY leftmargin=0 topmargin=0 text="Black" link="Blue" vlink="Navy" alink="Aqua" bgcolor="White">
 <center>
  <table width="750" border="0" cellspacing="0" cellpadding="0">
   <tr>
    <td width="198" height="61"><img src="10000000.jpg" width=198 height=61 hspace=0 vspace=0 border=0></td>
	<td width="552" height="61" colspan="2"><img src="zag_4100.jpg" width=552 height=61 hspace=0 vspace=0 border=0></td>
   </tr>
   <tr>
    <td width="198" height="20"><IMG SRC="m1000000.gif" USEMAP="#m1" BORDER=0 WIDTH=198 HEIGHT=20 hspace=0 vspace=0></td>
	<td width="96" height="20"><a href="http://www.computer-museum.ru/feedback/0.htm"><img src="m2000000.gif" width=96 height=20 hspace=0 vspace=0 border=0 alt="Контакты"></a></td>
	<td width="456" height="20"><IMG SRC="m3_10000.gif" USEMAP="#m3_1" BORDER=0 WIDTH=456 HEIGHT=20 hspace=0 vspace=0></td>
   </tr>
   <tr><td colspan="3">
   <br>

   <table width="750" border="0" cellspacing="0" cellpadding="0">
     <tr><td>

<!-- Doc body start -->
<h1>Программируемый периферийный адаптер КР580ВВ55</h1><p class="SubHeader">(отечественный аналог INTEL 8255; старое наименование – К580ИК55)</p><p class="StoryAuthor">Вадим Кудрявцев</p><p class="StoryBody">Любое устройство должно быть тем или иным образом связано с внешним миром. В микропроцессорной технике эту роль выполняют периферийные адаптеры. С их помощью центральный процессор получает данные, требующие той или иной обработки, управляет различными устройствами.</p><p class="StoryBody">Программируемый периферийный адаптер (ППА) КР580ВВ55 представляет собой три канала ввода/вывода A, B и C по 8 бит каждый. Существует три режима работы микросхемы. В режиме 0 три упомянутых канала могут быть независимо друг от друга запрограммированы на ввод или вывод информации. Режим 1 позволяет передавать информацию по каналам A и B, используя отдельные биты канала C для управления обменом данными. В режиме 2 канал A приобретает свойство двунаправленной шины, управляемой опять же отдельными битами канала C. Кроме того, возможны установка и сброс отдельных битов канала C. Микросхема выпускается в 40-выводном DIP-корпусе.</p><p class="StoryBody">Основные особенности микросхемы:</p><ul><li>3 канала ввода/вывода, 8 бит каждый;</li><li>3 режима работы (1 – статический ввод/вывод, 2 – тактируемый ввод/вывод, 3 – двунаправленный ввод/вывод);</li><li>раздельное программирование каждого канала на ввод или вывод.</li></ul><h2>Описание структуры и функционирование</h2><p class="StoryBody">Структурная схема программируемого периферийного адаптера представлена на рис. 1.</p>
<table border="0" cellspacing="0" cellpadding="5" align="center">
  <tr valign="top">
    <td>&nbsp;</td>
    <td align=center>
      <img src="i8255a00.gif" width="416" height="410" border="0" alt="Структурная схема программируемого периферийного адаптера КР580ВВ55" title="Структурная схема программируемого периферийного адаптера КР580ВВ55">
    </td>
    <td>&nbsp;</td>
  </tr>
  <tr valign="middle">
  <td>&nbsp;</td>
    <td align="center" width="416">
      <div class="PictureText">Структурная схема программируемого периферийного адаптера КР580ВВ55</div>
    </td>
  <td>&nbsp;</td>
  </tr>
</table>

<p class="StoryBody">ППА структурно разбит на две группы (A и B). Группа A включает в себя канал A и старшую тетраду канала C. Группа B состоит из канала B и младшей тетрады канала C. Доступ к каналам ввода/вывода и регистру управления осуществляется с помощью логики чтения-записи в соответствии с табл. 1.</p><p class="HeadingLow">Таблица 1. Доступ к каналам ввода/вывода и регистру управляющего слова</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <th valign="top">A1</th>    <th valign="top">A0</th>    <th valign="top">/RD</th>    <th valign="top">/WR</th>    <th valign="top">/CS</th>    <th valign="top">&nbsp;</th>  </tr>  <tr>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">Шина данных &lt;- канал A</td>  </tr>  <tr>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">Шина данных &lt;- канал B</td>  </tr>  <tr>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">Шина данных &lt;- канал C</td>  </tr>  <tr>    <td valign="top">1</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">Данные не определены</td>  </tr>  <tr>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">Шина данных -&gt; канал A</td>  </tr>  <tr>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">Шина данных -&gt; канал B</td>  </tr>  <tr>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">Шина данных -&gt; канал C</td>  </tr>  <tr>    <td valign="top">1</td>    <td valign="top">1</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">Шина данных -&gt; регистр управления</td>  </tr>  <tr>    <td valign="top">X</td>    <td valign="top">Х</td>    <td valign="top">Х</td>    <td valign="top">Х</td>    <td valign="top">1</td>    <td valign="top">Шина данных в высокоомном состоянии</td>  </tr></table><p class="StoryBody">Назначение этих и остальных выводов микросхемы приведено в табл. 2.</p><p class="HeadingLow">Таблица 2. Назначение выводов</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <td valign="top">D0…D7</td>    <td valign="top">Двунаправленная шина данных. Предназначена для передачи и приема данных процессором, а также передачи управляющих команд и слова состояния</td>  </tr>  <tr>    <td valign="top">/CS</td>    <td valign="top">Chip Select. Выбор микросхемы. Низкий уровень инициирует обмен между процессором и ППА</td>  </tr>  <tr>    <td valign="top">/RD</td>    <td valign="top">Read. Чтение. Низкий уровень на этом входе позволяет ППА передать данные или слово состояния процессору</td>  </tr>  <tr>    <td valign="top">/WR</td>    <td valign="top">Write. Запись. Низкий уровень на этом входе позволяет ППА принять данные или управляющую команду</td>  </tr>  <tr>    <td valign="top">RESET</td>    <td valign="top">Reset. Сброс. Высокий уровень на этом входе сбрасывает все внутренние регистры, включая регистры управления, переключает все каналы (A, B, C) в режим 0, одновременно переводя их в режим ввода (только при /RD = 0 и /WR = 0)</td>  </tr>  <tr>    <td valign="top">A0, A1</td>    <td valign="top">Адресные входы. Выбор канала. Позволяют выбрать один из каналов (A, B, C) или регистры управляющего слова и состояния (в зависимости от сигналов на входах /RD и /WR, см. табл. 2)</td>  </tr>  <tr>    <td valign="top">PA0…PA7</td>    <td valign="top">Канал A</td>  </tr>  <tr>    <td valign="top">PB0…PB7</td>    <td valign="top">Канал B</td>  </tr>  <tr>    <td valign="top">PC0…PC7</td>    <td valign="top">Канал C</td>  </tr></table><p class="StoryBody">Первоначальное включение или подача сигнала высокого уровня на вход сброс RESET микросхемы переключает все каналы (A, B, C) в режим 0, одновременно переводя их в режим ввода. Сброс выполняется только при условии  /RD = 0 и /WR = 0.</p><p class="StoryBody">Режим работы и направление передачи для каждого канала задается с помощью записи управляющего слова в регистр управления в соответствии с табл. 3 или 4. Отметим возможность комбинирования режимов работы для разных каналов. К примеру, канал B может быть запрограммирован на вывод в режим 0 для управления различными выключателями и реле, в то время как канал A может быть запрограммирован в режим 1 для ввода с клавиатуры или перфоленты.</p><p class="HeadingLow">Таблица 3. Формат управляющего слова для выбора режима работы</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <th valign="top">D7</th>    <th valign="top">D6</th>    <th valign="top">D5</th>    <th valign="top">D4</th>    <th valign="top">D3</th>    <th valign="top">D2</th>    <th valign="top">D1</th>    <th valign="top">D0</th>  </tr>  <tr>    <td valign="top">Флаг управления<br>1 = выбор режима</td>    <td colspan="4" valign="top">Группа A</td>    <td colspan="3" valign="top">Группа В</td>  </tr>  <tr>    <td valign="top">&nbsp;</td>    <td colspan="2" valign="top">Выбор режима:<br>00 = режим 0<br>01 = режим 1<br>1х = режим 2</td>    <td valign="top">Канал A:<br>1 = ввод<br>0 = вывод</td>    <td valign="top">Старшая тетрада канала C:<br>1 = ввод<br>0 = вывод</td>    <td valign="top">Выбор режима:<br>0 = режим 0<br>1 = режим 1</td>    <td valign="top">Канал B:<br>1 = ввод<br>0 = вывод</td>    <td valign="top">Младшая тетрада канала C:<br>1 = ввод<br>0 = вывод</td>  </tr></table><p class="HeadingLow">Таблица 4. Формат управляющего слова для двунаправленного режима.</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <td valign="top">D7</td>    <td valign="top">D6</td>    <td valign="top">D5</td>    <td valign="top">D4</td>    <td valign="top">D3</td>    <td valign="top">D2</td>    <td valign="top">D1</td>    <td valign="top">D0</td>  </tr>  <tr>    <td valign="top">Флаг управления<br>1 = выбор режима</td>    <td valign="top">Выбор режима:<br>1 = режим 2</td>    <td colspan="3" valign="top">Произвольное состояние</td>    <td valign="top">Выбор режима для канала B:<br>0 = режим 0<br>1 = режим 1</td>    <td valign="top">Канал B:<br>1 = ввод<br>0 = вывод</td>    <td valign="top">Биты 0..2 канала C:<br>1 = ввод<br>0 = вывод</td>  </tr></table><p class="StoryBody">Каждый из восьми битов канала C может быть независимо от других установлен или сброшен с помощью специальной команды вывода, посылаемой в регистр управления. Это свойство канала C облегчает программирование в случае, когда биты канала C используется для управления передачей данных по каналам A или B. Формат команды приведен в табл. 5.</p><p class="StoryBody">Работа микросхемы в режиме 1 или 2 характеризуется наличием управляющих сигналов, которые могут вызывать прерывание работы процессора КР580ВМ80.</p><p class="StoryBody">Команда установки или сброса соответствующего бита канала C позволяет запретить или разрешить выдачу требуемого прерывания.</p><p class="HeadingLow">Таблица 5. Оперирование битами</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <td valign="top">D7</td>    <td valign="top">D6</td>    <td valign="top">D5</td>    <td valign="top">D4</td>    <td valign="top">D3</td>    <td valign="top">D2</td>    <td valign="top">D1</td>    <td valign="top">D0</td>  </tr>  <tr>    <td valign="top">Флаг управления<br>0 = оперирование битами</td>    <td colspan="3" valign="top">Произвольное состояние</td>    <td colspan="3" valign="top">Выбор бита:<br>0 0 0 = 0 бит<br>0 0 1 = 1 бит<br>0 1 0 = 2 бит<br>0 1 1 = 3 бит<br>1 0 0 = 4 бит<br>1 0 1 = 5 бит<br>1 1 0 = 6 бит<br>1 1 1 = 7 бит</td>    <td valign="top">1 = установить бит<br>0 = снять бит</td>  </tr></table><h2>Описание режимов работы</h2><h3>Режим 0 (простой ввод/вывод)</h3><p class="StoryBody">Работа в этом режиме позволяет организовать простой ввод или вывод для каждого из трех каналов. Данные просто записываются или считываются из выбранного канала. Таким образом, основные особенности функционирования микросхемы в режиме 0 следующие:</p><ul><li>два 8-битовых канала (каналы A и B) и два 4-битовых канала (старшая и младшая половинки канала C);</li><li>каждый канал может быть независимо от других запрограммирован на ввод или вывод; таким образом, всего может быть 16 различных комбинаций ввода/вывода;</li><li>выходы имеют память, входы работают без буферной памяти.</li></ul><h3>Режим 1 (тактируемый ввод/вывод)</h3><p class="StoryBody">Этот режим служит для однонаправленного обмена данными по выбранному каналу с периферийным устройством. Для управления передачей или приемом по каналу A используется младшая тетрада канала C, канал B управляется старшей тетрадой канала C.</p><p class="StoryBody">Основные особенности работы в данном режиме:</p><ul><li>два канала (каналы A и B);</li><li>каждый канал может быть запрограммирован на вход или выход;</li><li>одна тетрада канала C используется для управления одного канала передачи данных.</li></ul><p class="HeadingLow">Описание сигналов для управления операцией ввода</p><p class="CodeDiv">/STB (STROBE)</p><p class="StoryBody">По низкому уровню на этом входе входные данные записываются в буферную память.</p><p class="CodeDiv">/IBF (INPUT BUFFER FULL)</p><p class="StoryBody">Высокий уровень на этом выходе показывает, что данные загружены в буферную память. Задний фронт сигнала /STB устанавливает этот выход в уровень лог. 1, передний фронт сигнала на входе /RD сбрасывает его в лог. 0.</p><p class="CodeDiv">INTR (INTERRUPT)</p><p class="StoryBody">Высокий уровень на этом выходе может быть использован для прерывания выполнения основной программы процессора, чтобы обслужить устройство ввода. Сигнал INTR устанавливается в лог. 1 по переднему фронту сигнала /STB (если установлен сигнал INTE разрешения прерывания) и сбрасывается по заднему фронту сигнала на входе /RD микросхемы. Этот процесс обеспечивает ввод данных в микропроцессор со стороны устройства ввода простым стробированием своих данных.</p><p class="CodeDiv">INTE A</p><p class="StoryBody">Разрешение прерывания для канала A. Управляется установкой/сбросом бита 4 канала С.</p><p class="CodeDiv">INTE B</p><p class="StoryBody">Разрешение прерывания для канала B. Управляется установкой/сбросом бита 2 канала С.</p><p class="StoryBody">Взаимодействие описанных сигналов показано на рис. 2.</p>
<table border="0" cellspacing="0" cellpadding="5" align="center">
  <tr valign="top">
    <td>&nbsp;</td>
    <td align=center>
      <img src="i8255b00.gif" width="407" height="205" border="0" alt="Работа ППА в режиме 1 (тактируемый ввод)" title="Работа ППА в режиме 1 (тактируемый ввод)">
    </td>
    <td>&nbsp;</td>
  </tr>
  <tr valign="middle">
  <td>&nbsp;</td>
    <td align="center" width="407">
      <div class="PictureText">Работа ППА в режиме 1 (тактируемый ввод)</div>
    </td>
  <td>&nbsp;</td>
  </tr>
</table>

<p class="HeadingLow">Описание сигналов для управления операцией вывода</p><p class="CodeDiv">/OBF (OUTPUT BUFFER FULL)</p><p class="StoryBody">Сигнал высокого уровня на этом выходе показывает устройству вывода, что микропроцессор записал данные в канал. Сигнал устанавливается в лог. 1 по переднему фронту на входе /WR микросхемы и сбрасывается по заднему фронту сигнала /ACK.</p><p class="CodeDiv">/ACK (ACKNOWLEDGEMENT)</p><p class="StoryBody">Низкий уровень на этом выходе показывает микропроцессору, что периферийное устройство приняло данные.</p><p class="CodeDiv">INTR (INTERRUPT)</p><p class="StoryBody">Высокий уровень на этом выходе может быть использован для прерывания выполнения основной программы процессора в момент принятия данных периферийным устройством. Сигнал INTR устанавливается в лог. 1 по переднему фронту сигнала /ACK (если одновременно сигналы /OBF и INTE установлены в лог. 1) и сбрасывается по заднему фронту сигнала на входе /WR микросхемы.</p><p class="CodeDiv">INTE A</p><p class="StoryBody">Разрешение прерывания для канала A. Управляется установкой/сбросом бита 6 канала С.</p><p class="CodeDiv">INTE B</p><p class="StoryBody">Разрешение прерывания для канала B. Управляется установкой/сбросом бита 2 канала С.</p><p class="StoryBody">Взаимодействие описанных сигналов показано на рис. 3.</p>
<table border="0" cellspacing="0" cellpadding="5" align="center">
  <tr valign="top">
    <td>&nbsp;</td>
    <td align=center>
      <img src="i8255c00.gif" width="380" height="210" border="0" alt="Работа ППА в режиме 1 (тактируемый вывод)" title="Работа ППА в режиме 1 (тактируемый вывод)">
    </td>
    <td>&nbsp;</td>
  </tr>
  <tr valign="middle">
  <td>&nbsp;</td>
    <td align="center" width="380">
      <div class="PictureText">Работа ППА в режиме 1 (тактируемый вывод)</div>
    </td>
  <td>&nbsp;</td>
  </tr>
</table>

<h3>Режим 2 (двунаправленный тактируемый ввод/вывод)</h3><p class="StoryBody">В этом режиме возможен обмен данными по 8-битовой двунаправленной шине данных. Управление обменом данными, а также направление передачи задается с помощью управляющих сигналов аналогичным режиму 1 способом. Возможно также генерирование сигналов прерываний и запрета разрешения.</p><p class="StoryBody">Основные особенности работы в данном режиме:</p><ul><li>возможно использование только канала A;</li><li>управление обменом обеспечивается 5 битами канала C;</li><li>входы и выходы обладают буферной памятью.</li></ul><p class="HeadingLow">Описание управляющих сигналов для двунаправленного ввода/вывода</p><p class="CodeDiv">INTR (INTERRUPT)</p><p class="StoryBody">Высокий уровень на этом выходе может быть использован для прерывания выполнения основной программы процессора.</p><p class="HeadingLow">Режим вывода</p><p class="CodeDiv">/OBF (OUTPUT BUFFER FULL)</p><p class="StoryBody">Сигнал высокого уровня на этом выходе показывает устройству вывода, что микропроцессор записал данные в канал A.</p><p class="CodeDiv">/ACK (ACKNOWLEDGEMENT)</p><p class="StoryBody">Низкий уровень на этом выходе выводит выходной буфер канала A из третьего состояния для вывода данных в периферийное устройство. В остальных случаях выходной буфер остается в третьем состоянии.</p><p class="CodeDiv">INTE 1 (INTE плюс /OBF)</p><p class="StoryBody">Разрешение прерывания для канала A при работе на вывод. Управляется установкой/сбросом бита 6 канала С.</p><p class="HeadingLow">Режим ввода</p><p class="CodeDiv">/STB (STROBE)</p><p class="StoryBody">Низкий уровень на этом входе загружает данные из периферийного устройства в буферную память канала A.</p><p class="CodeDiv">/IBF (INPUT BUFFER FULL)</p><p class="StoryBody">Высокий уровень на этом выходе показывает, что данные загружены в буферную память.</p><p class="CodeDiv">INTE 2 (INTE плюс /IBF)</p><p class="StoryBody">Разрешение прерывания для канала A при работе на вывод. Управляется установкой/сбросом бита 4 канала С.</p><p class="StoryBody">Работа ППА в режиме 2 показана на рис. 4.</p>
<table border="0" cellspacing="0" cellpadding="5" align="center">
  <tr valign="top">
    <td>&nbsp;</td>
    <td align=center>
      <img src="i8255d00.gif" width="404" height="327" border="0" alt="Работа ППА в режиме 2" title="Работа ППА в режиме 2">
    </td>
    <td>&nbsp;</td>
  </tr>
  <tr valign="middle">
  <td>&nbsp;</td>
    <td align="center" width="404">
      <div class="PictureText">Работа ППА в режиме 2</div>
    </td>
  <td>&nbsp;</td>
  </tr>
</table>

<p class="HeadingLow">Таблица 5. Управляющие сигналы для различных режимов работы</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <th valign="top">C7</th>    <th valign="top">C6</th>    <th valign="top">C5</th>    <th valign="top">C4</th>    <th valign="top">C3</th>    <th valign="top">C2</th>    <th valign="top">C1</th>    <th valign="top">C0</th>    <th valign="top">&nbsp;</th>  </tr>  <tr>    <td colspan="5" valign="top">Канал A</td>    <td colspan="3" valign="top">Канал B</td>    <td valign="top">Режим 1<br>Ввод</td>  </tr>  <tr>    <td valign="top">I/O</td>    <td valign="top">I/O</td>    <td valign="top">/IBF</td>    <td valign="top">/STB</td>    <td valign="top">INTR</td>    <td valign="top">/STB</td>    <td valign="top">/IBF</td>    <td valign="top">INTR</td>    <td valign="top">&nbsp;</td>  </tr>  <tr>    <td colspan="5" valign="top">Канал A</td>    <td colspan="3" valign="top">Канал B</td>    <td valign="top">Режим 1<br>Вывод</td>  </tr>  <tr>    <td valign="top">/OBF</td>    <td valign="top">/ACK</td>    <td valign="top">I/O</td>    <td valign="top">I/O</td>    <td valign="top">INTR</td>    <td valign="top">/ACK</td>    <td valign="top">/OBF</td>    <td valign="top">INTR</td>    <td valign="top">&nbsp;</td>  </tr>  <tr>    <td colspan="5" valign="top">Канал A</td>    <td colspan="3" valign="top">&nbsp;</td>    <td valign="top">Режим 2</td>  </tr>  <tr>    <td valign="top">/OBF</td>    <td valign="top">/ACK</td>    <td valign="top">/IBF</td>    <td valign="top">/STB</td>    <td valign="top">INTR</td>    <td valign="top">I/O</td>    <td valign="top">I/O</td>    <td valign="top">I/O</td>    <td valign="top">&nbsp;</td>  </tr></table><p class="StoryRemark">Примечание: I/O – обычный ввод/вывод.</p><h2>Пример программирования</h2><p class="StoryBody">Сразу замечу – использование режимов 1 и 2 подразумевает относительно &quot;разумную&quot; реакцию внешних устройств на сигналы ППА, что сопряжено с усложненной схемотехникой последних. В большинстве же случаев можно обойтись режимом 0 простого ввода/вывода.</p><p class="StoryBody">В составе одноплатного компьютера &quot;Радио-86РК&quot;, описанного в журнале &quot;Радио&quot;, используются два ППА. Первый обслуживает клавиатуры, индикацию раскладок клавиатуры и ввод/вывод данных с магнитофона. Второй используется для сопряжения с различными устройствами и его программирование должен осуществлять сам пользователь или программист-разработчик драйвера под конкретное внешнее устройство.</p><p class="StoryBody">Рассмотрим программирование первого ППА.</p><p class="StoryBody">Основная матрица клавиатуры размером 8x8 подключена к каналам A и B, причем канал A должен работать на вывод, а канал B на ввод информации. К выводам C5, C6, C7 канала C подключены дополнительные клавиши управления регистрами. Вывод C4 используется для ввода данных с магнитной ленты. Следовательно, старшая тетрада канала C должна быть запрограммирована на ввод. В младшей тетраде канала C используются только два бита: C0 – вывод данных на магнитную ленту и C3 – индикация раскладки клавиатуры &quot;Рус/Лат&quot;. Следовательно, младшая тетрада канала C должна быть запрограммирована на вывод.</p><p class="StoryBody">Программирование производится засылкой одного байта в управляющий регистр.</p><p class="HeadingLow">Таблица 6. Программирование ППА для обслуживания клавиатуры</p><table cellspacing="0" cellpadding="5" border="1">  <tr>    <th colspan="2" valign="top">Адрес</th>    <th colspan="8" valign="top">Данные</th>  </tr>  <tr>    <td valign="top">A1</td>    <td valign="top">A0</td>    <td valign="top">D7</td>    <td valign="top">D6</td>    <td valign="top">D5</td>    <td valign="top">D4</td>    <td valign="top">D3</td>    <td valign="top">D2</td>    <td valign="top">D1</td>    <td valign="top">D0</td>  </tr>  <tr>    <td valign="top">1</td>    <td valign="top">1</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">1</td>    <td valign="top">0</td>    <td valign="top">0</td>    <td valign="top">1</td>  </tr>  <tr>    <td colspan="2" valign="top">Регистр управления</td>    <td valign="top">Режим программирования</td>    <td colspan="2" valign="top">Канал A режим 0</td>    <td valign="top">Канал A вывод</td>    <td valign="top">Старшая тетрада канала C ввод</td>    <td valign="top">Канал B режим 0</td>    <td valign="top">Канал B ввод</td>    <td valign="top">Младшая тетрада канала C вывод</td>  </tr></table><p class="StoryBody">Как видно из этого примера, все каналы ППА запрограммированы в режим 0 простого ввода-вывода, т. е. разработчики упомянутого компьютера решили пойти по пути упрощения схемотехники и переложить большую часть обработки клавиатуры и периферийных устройств на процессор.</p><p class="StoryBody">С помощью второго ППА я в свое время эмулировал LPT-порт и подключал к нему матричный принтер. Обходился я опять же программированием всех каналов только в режим 0 и всю обработку обмена с принтером писал на ассемблере.</p><p class="StoryBody">В заключение отмечу, что описанная микросхема оказалась очень удачной для создания компактных устройств ввода/вывода. В своей практике я ее не раз использовал для увеличения количества внешних линий однокристальных микро-ЭВМ или построения плат ввода/вывода для шин стандарта ISA IBM-совместимых компьютеров.</p><p class="BooklistTitle">Литература:</p><ol><li><span class="BookAuthor">Kramer M., Wurtenberger S.</span> <span class="BookTitle">Datenbuch Mikrorechner Schalkreise.</span> 1. Auflage. Berlin: Militarverlag der DDR (VEB), 1989.</li><li><span class="BookTitle">Микропроцессоры.</span> Справочное пособие для разработчиков судовой РЭА. Под ред. Ю. А. Овечкина. Л., &quot;Судостроение&quot;, 1988.</li><li><span class="BookAuthor">Зеленко Г., Панов В., Попов С.</span> <span class="BookTitle">Модуль программатора ППЗУ.</span> Радио, 1983, № 6, с. 42–46.</li></ol><p class="StoryRef">Статья опубликована 23.01.2003 г.</p>
<!-- Doc body end -->
  
     </td></tr>
     <tr><td>&nbsp;</td></tr>
   </table>

   </td></tr>
   <tr><td colspan="3"><img src="line_dow.jpg" width=750 height=7 hspace=0 vspace=0 border=0></td></tr>
   <tr>
    <td width="198" height="20"><IMG SRC="m1000000.gif" USEMAP="#m1" BORDER=0 WIDTH=198 HEIGHT=20 hspace=0 vspace=0></td>
	<td width="96" height="20"><a href="http://www.computer-museum.ru/feedback/0.htm"><img src="m2000000.gif" width=96 height=20 hspace=0 vspace=0 border=0 alt="Контакты"></a></td>
	<td width="456" height="20"><IMG SRC="m3_10000.gif" USEMAP="#m3_1" BORDER=0 WIDTH=456 HEIGHT=20 hspace=0 vspace=0></td>
   </tr>
   <tr><td colspan="3"><img src="line_dow.jpg" width=750 height=7 hspace=0 vspace=0 border=0></td></tr>
   <tr><td colspan="3">&nbsp;</td></tr>

  </table>
 </center>
<MAP NAME="m1">
<AREA SHAPE=RECT COORDS="2,2,130,19" HREF="http://www.computer-museum.ru/index.php" ALT="На первую страницу">
<AREA SHAPE=RECT COORDS='133,2,198,18' HREF='http://www.computer-museum.ru/search/yandex.htm' ALT='Поиск'>
</MAP>
<MAP NAME="m3_1">
<AREA SHAPE=RECT COORDS="344,3,451,18"  HREF="http://www.computer-museum.ru/technlgy/0.htm" ALT="К содержанию раздела">
</MAP>
</BODY>
</HTML>

<!-- This document saved from http://www.computer-museum.ru/technlgy/i8255.htm -->
